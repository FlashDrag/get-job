{% extends "base.html" %}
{% load static %}
{% load form_filters %}
{% load time_filters %}

{% block content %}
{% include 'employer/navbar.html' %}

<main class="container">
  <!-- Hero Section -->
  <section class="row py-2 py-md-4 m-0 mb-4 mb-md-0 hero-container">
    <div class="col-md-5 my-3 px-5 px-md-1 my-md-auto">
      <!-- TODO alt -->
      <img class="img-fluid" src="{% static 'images/employer_hero.png' %}"
        alt="vector image: recruiters review resumes">
    </div>
    <div class="col-md-7 d-flex align-items-end flex-column justify-content-evenly">
      <div class="py-4 py-md-0 w-100">
        <h1 class="fs-2 pb-0 pb-lg-1 text-center text-sm-start text-md-end text-muted">Hire Faster, Hire Smarter</h1>
        <h2 class="fs-4 lead text-center text-md-end">List Your Job Opening Here</h2>
      </div>
      <a href="#" class="btn btn-outline-cyan-blue inset-shadow-cyan mt-2 mt-md-0 py-1 px-4 align-self-end">
        Post Job
      </a>
    </div>
  </section>

  <div class="bg-light rounded pb-3">
    <!-- Search section -->
    <section class="py-5 search-container">
      <div class="text-center">
        <h2 class="text-muted">Find Your Next Top Talent</h2>
        <h5 class="lead">Enter Keywords, Desired Skills or Occupation</h4>
      </div>
      <div class="container px-md-5 pt-4 pt-lg-5 pb-1 pb-md-3 pb-lg-5 mx-auto">
        {% comment %}
        <form class="input-group" action="{% url 'resume_search' %}" method="GET">
          {{ form.title|update_placeholder:"e.g. ux design" }}
          <a class="btn btn-outline-cyan-blue" href="{% url 'resume_search' %}" aria-label="resume filter">
            <i class="fa-solid fa-sliders"></i>
            <span class="d-none d-sm-inline">Filter</span>
          </a>
          <button class="btn btn-cyan-blue" type="submit">Find Resume</button>
        </form>
        {% endcomment %}
      </div>
    </section>

    <!-- Vacancies section -->
    <section class="container resume-container g-1 g-sm-2 g-md-4">
      <h2 class="text-muted ps-3 mb-2 mb-md-3">Latest Resumes</h2>
      <div class="row row-cols-1 row-cols-xl-2 g-2">
        {% for resume in resume_list %}
        <!-- ______resume card______ -->
        <div class="col">
          <div class="card h-100 resume-card">
            <div class="card-body position-relative">
              <h5 class="card-title col-12 col-cb-8 py-mb-1 pb-lg-2 pb-xl-0">
                {% comment %}
                TODO: Add
                <a href="{% url 'resume_detail' resume.id %}" class="text-decoration-none stretched-link text-dark">
                  {% endcomment %}
                  <a href="#" class="text-decoration-none stretched-link text-dark">
                    {{ resume.occupation }}
                  </a>
              </h5>
              <p class="col days-counter text-muted">
                <small>{{ resume.created_on|timeago }} ago</small>
              </p>
              <div class="row company-body my-2">
                <ul class="col-8 list-group borderless">
                  <li class="list-group-item">
                    <div class="d-flex align-items-center">
                      <span class="text-center" style="width: 35px;">
                        <i class="text-cyan-blue fa fa-building-user"></i>
                      </span>
                      <span>
                        {{ resume.jobseeker.profile.name }}
                      </span>
                    </div>
                  </li>
                  <li class="list-group-item">
                    <div class="d-flex align-items-center">
                      <span class="text-center" style="width: 35px;">
                        <i class="text-cyan-blue fa fa-location-dot"></i>
                      </span>
                      <span>
                        {{ resume.get_experience_duration_display }}
                      </span>
                    </div>
                  </li>
                  <li class="list-group-item">
                    <div class="d-flex align-items-center">
                      <span class="text-center" style="width: 35px;">
                        <i class="text-cyan-blue fa fa-money-bills"></i>
                      </span>
                      <span>
                        <!-- TODO: Truncate to one sentence -->
                        {{ resume.skills }}
                      </span>
                    </div>
                  </li>
                </ul>
                <div class="col-4 mx-auto my-auto text-center">
                  <img src="{{ resume.jobseeker.profile.avatar.url }}" class="img-thumbnail"
                    alt="{{ resume.jobseeker.profile.avatar.name }}">
                </div>
              </div>
              <p class="card-text custom-text-truncate">
                {{ resume.body }}
              </p>

            </div>
            <div class="card-footer border-top-0">
              <div class="d-flex justify-content-between px-3">
                <a href="#" class="btn-save card-link">
                  Save
                </a>
                <a href="#" class="btn btn-outline-cyan-blue card-link py-0 my-1">Apply</a>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
      <!-- TODO: Add Link "More" to redirect to /resumes -->
    </section>
  </div>
</main>
{% endblock content %}